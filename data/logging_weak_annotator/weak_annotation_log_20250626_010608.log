2025-06-26 01:06:08,862 - INFO - Logging initialized for Weak Annotator.
2025-06-26 01:06:08,862 - INFO - Log file: ../../data/logging_weak_annotator/weak_annotation_log_20250626_010608.log
2025-06-26 01:06:08,862 - INFO - Gemini LLM model 'models/gemini-pro' configured.
2025-06-26 01:06:08,862 - INFO - 
--- Starting weak annotation process (Force re-annotate: False) ---
2025-06-26 01:06:08,936 - INFO - Loaded 7808 articles from the main DOI pool.
2025-06-26 01:06:08,936 - INFO - Loaded 0 DOIs from weak annotation pool.
2025-06-26 01:06:08,939 - INFO - Found 7807 articles to process for weak annotation via LLM.
2025-06-26 01:06:08,939 - INFO - Processing (1/7808 total in main pool): 10.1371/journal.pcbi.1008887 - MAUI (MBI Analysis User Interface)-An image processing pipeline for Multiplexed Mass Based Imaging.
2025-06-26 01:06:09,210 - ERROR - LLM API call failed (Attempt 1/3): 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
Traceback (most recent call last):
  File "/home/martinha/PycharmProjects/phd/review/src/get_papers/weak_annotator.py", line 143, in call_llm_api
    response = LLM_MODEL.generate_content(prompt)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.NotFound: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-06-26 01:06:14,291 - ERROR - LLM API call failed (Attempt 2/3): 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
Traceback (most recent call last):
  File "/home/martinha/PycharmProjects/phd/review/src/get_papers/weak_annotator.py", line 143, in call_llm_api
    response = LLM_MODEL.generate_content(prompt)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.NotFound: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-06-26 01:06:24,364 - ERROR - LLM API call failed (Attempt 3/3): 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
Traceback (most recent call last):
  File "/home/martinha/PycharmProjects/phd/review/src/get_papers/weak_annotator.py", line 143, in call_llm_api
    response = LLM_MODEL.generate_content(prompt)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.NotFound: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-06-26 01:06:24,368 - ERROR - Max retries reached for LLM API call.
2025-06-26 01:06:24,368 - ERROR - LLM API call returned empty response for DOI 10.1371/journal.pcbi.1008887. Skipping annotation.
2025-06-26 01:06:29,368 - INFO - Processing (2/7808 total in main pool): 10.1016/j.cell.2020.07.005 - Coordinated Cellular Neighborhoods Orchestrate Antitumoral Immunity at the Colorectal Cancer Invasive Front.
2025-06-26 01:06:29,440 - ERROR - LLM API call failed (Attempt 1/3): 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
Traceback (most recent call last):
  File "/home/martinha/PycharmProjects/phd/review/src/get_papers/weak_annotator.py", line 143, in call_llm_api
    response = LLM_MODEL.generate_content(prompt)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.NotFound: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-06-26 01:06:34,507 - ERROR - LLM API call failed (Attempt 2/3): 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
Traceback (most recent call last):
  File "/home/martinha/PycharmProjects/phd/review/src/get_papers/weak_annotator.py", line 143, in call_llm_api
    response = LLM_MODEL.generate_content(prompt)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.NotFound: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-06-26 01:06:44,578 - ERROR - LLM API call failed (Attempt 3/3): 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
Traceback (most recent call last):
  File "/home/martinha/PycharmProjects/phd/review/src/get_papers/weak_annotator.py", line 143, in call_llm_api
    response = LLM_MODEL.generate_content(prompt)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.NotFound: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-06-26 01:06:44,579 - ERROR - Max retries reached for LLM API call.
2025-06-26 01:06:44,579 - ERROR - LLM API call returned empty response for DOI 10.1016/j.cell.2020.07.005. Skipping annotation.
2025-06-26 01:06:49,579 - INFO - Processing (3/7808 total in main pool): 10.1038/s41467-024-48870-5 - Deep cell phenotyping and spatial analysis of multiplexed imaging with TRACERx-PHLEX.
2025-06-26 01:06:49,645 - ERROR - LLM API call failed (Attempt 1/3): 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
Traceback (most recent call last):
  File "/home/martinha/PycharmProjects/phd/review/src/get_papers/weak_annotator.py", line 143, in call_llm_api
    response = LLM_MODEL.generate_content(prompt)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.NotFound: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-06-26 01:06:54,721 - ERROR - LLM API call failed (Attempt 2/3): 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
Traceback (most recent call last):
  File "/home/martinha/PycharmProjects/phd/review/src/get_papers/weak_annotator.py", line 143, in call_llm_api
    response = LLM_MODEL.generate_content(prompt)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.NotFound: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-06-26 01:07:04,793 - ERROR - LLM API call failed (Attempt 3/3): 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
Traceback (most recent call last):
  File "/home/martinha/PycharmProjects/phd/review/src/get_papers/weak_annotator.py", line 143, in call_llm_api
    response = LLM_MODEL.generate_content(prompt)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.NotFound: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-06-26 01:07:04,794 - ERROR - Max retries reached for LLM API call.
2025-06-26 01:07:04,794 - ERROR - LLM API call returned empty response for DOI 10.1038/s41467-024-48870-5. Skipping annotation.
2025-06-26 01:07:09,794 - INFO - Processing (4/7808 total in main pool): 10.1038/s41592-020-01018-x - Cellpose: a generalist algorithm for cellular segmentation.
2025-06-26 01:07:09,873 - ERROR - LLM API call failed (Attempt 1/3): 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
Traceback (most recent call last):
  File "/home/martinha/PycharmProjects/phd/review/src/get_papers/weak_annotator.py", line 143, in call_llm_api
    response = LLM_MODEL.generate_content(prompt)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
        request,
        **request_options,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
        request,
    ...<2 lines>...
        metadata=metadata,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
        target,
    ...<3 lines>...
        on_error=on_error,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
        exc,
    ...<6 lines>...
        timeout,
    )
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "/home/martinha/miniconda3/envs/live_review/lib/python3.13/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.NotFound: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
